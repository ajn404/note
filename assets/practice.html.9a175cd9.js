import{S as d}from"./practice.setup.3d60fd6f.js";import{T as f,C as p,a as v,R as r,L as g,P as y,S as C,D as w,M as x}from"./OrbitControls.4135e4a5.js";import{d as b,r as S,n as k,h as D,o as c,c as l,_ as u,b as M,a as s,w as F}from"./app.28a7effe.js";var L="uniform vec2 u_resolution;uniform vec2 u_mouse;uniform float u_time;uniform sampler2D iChannel0;uniform sampler2D iChannel1;uniform int u_frame;void main(){float bug=0.0;vec3 tile=texture2D(iChannel0,gl_FragCoord.xy/u_resolution,0.).xyz;vec4 col=vec4(tile,1.0);bug=0.01;col.x+=bug;gl_FragColor=col;}",T="void main(){gl_Position=projectionMatrix*modelViewMatrix*vec4(position*0.4,1.0);}";const j=b({__name:"practice",setup(m){const a=new f,o=S(null),e={u_time:{value:0},u_mouse:{value:{x:0,y:0}},u_resolution:{value:{x:0,y:0}},u_color:{value:new p(65520)},u_frame:{type:"i",value:-1},iChannel0:{type:"t",value:""},iChannel1:{type:"t",value:""}},h=new v;let t=new d;return t.animate=function(){if(this.render(),e.u_time.value=h.getElapsedTime(),e.u_frame.value++,this.container.getBoundingClientRect().width>0)requestAnimationFrame(this.animate.bind(this));else return},t.move=function(n){e.u_mouse.value.x=n.touches?n.touches[0].clientX:n.clientX,e.u_mouse.value.y=n.touches?n.touches[0].clientY:n.clientY},"ontouchstart"in window?document.addEventListener("touchmove",t.move):document.addEventListener("mousemove",t.move),t.resize=function(){e.u_resolution!==void 0&&(e.u_resolution.value.x=this.width,e.u_resolution.value.y=this.height),e.u_frame.value=0,this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.render()},k(()=>{const n={container:o.value||document.body};a.load("/note/images/logo.jpg",i=>{i.wrapS=r,i.wrapT=r,i.minFilter=g,e.iChannel0.value=i,e.iChannel1.value=i,t.addObject=function(){this.geometry=new y(2,2),this.material=new C({uniforms:e,side:w,fragmentShader:L,vertexShader:T}),this.mesh=new x(this.geometry,this.material),this.scene.add(this.mesh)};try{t.init(n),t.camera.position.z=.52}catch(_){console.log(_)}})}),D(()=>{t.beforeDestroy()}),(n,i)=>(c(),l("div",{class:"practice fullscreen",ref_key:"container",ref:o},null,512))}});var z=u(j,[["__file","practice.vue"]]);const E={};function P(m,a){const o=z,e=M("ClientOnly");return c(),l("div",null,[s(e,null,{default:F(()=>[s(o)]),_:1})])}var W=u(E,[["render",P],["__file","practice.html.vue"]]);export{W as default};
//# sourceMappingURL=practice.html.9a175cd9.js.map
